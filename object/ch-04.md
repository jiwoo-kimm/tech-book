# 4장 | 설계 품질과 트레이드오프

## 💻 캡슐화

> 객체지향에서 가장 중요한 원리는 캡슐화다. 캡슐화는 외부에서 알 필요가 없는 부분을 감춤으로써 대상을 단순화하는 추상화의 한 종류다. 객체지향 설계의 가장 중요한 원리는 불안정한 구현 세부사항을 안정적인 인터페이스 뒤로 캡슐화하는 것이다.

### 응집도

- 내부 요소들이 연관돼 있는 정도
- 변경이 발생할 때 모듈 내부에서 발생하는 변경의 정도
- 하나의 변경에 대해 모듈 전체가 변경되는 것이 모듈의 일부가 변경되는 것보다 응집도가 더 높다.
- 하나의 변경에 대해 다수의 모듈이 함께 변경된다면 응집도가 낮은 것이다.

### 결합도

- 외부 요소와의 의존성
- 한 모듈이 변경되기 위해서 다른 모듈의 변경을 요구하는 정도
- 결합도가 높으면 하나의 변경에 대해 함께 변경해야 하는 모듈의 수가 늘어난다.

> 캡슐화를 지키면 모듈 안의 응집도는 높아지고 모듈 사이의 결합도는 낮아진다. 응집도와 결합도를 고려하기 전에 먼저 캡슐화를 향상시키기 위해 노력해야 한다.


## 💻 데이터 중심 설계의 문제점

- 캡슐화를 위반한다. 내부 구현(데이터)이 퍼블릭 인터페이스에 그대로 노출된다.
- 하나의 제어 객체가 다수의 데이터 객체에 강하게 결합된다.
- 이로 인해 내부 구현의 변경이 외부로 퍼져나가는 파급 효과가 커진다.

> 객체지향 설계의 무게 중심은 항상 객체의 내부가 아니라 외부에 맞춰져 있어야 한다. 협력이 구현 세부사항에 종속돼 있으면 변경에 유연하게 대응할 수 없다.
