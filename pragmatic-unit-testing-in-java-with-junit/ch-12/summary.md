# 12장 | 테스트 주도 개발

💡 TDD 알아보기

<br>

## TDD의 주된 이익

코드에 대한 확신을 바탕으로 안전한 리팩토링을 보장한다. 우리는 단위 테스트를 통해 코드가 예상한 대로 동작한다는 자신감을 얻는다. TDD에서도 동일한 이익과 그 이상을 얻을 수 있다. 이를 통해 코드를 지속적으로 발전시킬 수 있는 자유를 얻을 수 있다.

<br>

## TDD 사이클

1. 실패하는 테스트 코드 작성하기
2. 테스트 통과시키기
3. 이전 두 단계에서 추가되거나 변경된 코드 개선하기

작은 테스트를 작성하고, 그 후에 작은 프로덕션 코드를 작성한다. 오류가 발생하면 딱 컴파일되는 수준으로만 코드를 작성하여 점진적으로 대응한다.

### 작은 증분 추가

테스트가 나타내는 '명세'를 정확히 코딩하고, 가능한 가장 작은 증분(increment)를 추가한다. 

### 테스트 정리

TDD 사이클을 돌고 나면 테스트 코드를 최대한 깔끔하고 짧게 리팩토링한다. TDD는 안전한 리팩토링을 보장하기 때문에 코드 정리에 자신감을 더해준다.

<br>

## TDD의 임무

프로그래머는 모든 가능한 순열과 시나리오를 기반으로 작성할 필요가 있는 다음 테스트를 잘 결정해야 한다. 각 시나리오를 테스트로 만들고 이를 통과하게 만드는 코드 증분을 최소화하는 순으로 코드를 작성해야 하는 것이다.

<br>

## 문서로서의 테스트

테스트 이름을 통해 클래스의 동작을 빠르게 파악할 수 있어야 하기 때문에, 항상 이름이 서로 어울리는지 검토하고 깔끔하고 일관성 있는 이름을 부여해야 한다. 이름만 명확하게 할 뿐 아니라, 테스트 클래스를 세분화하여 연관된 동작 그룹에 집중할 수 있도록 하면 더 좋다. 이를 통해 테스트 이름에서 중복된 정보를 제거하여 테스트의 가독성을 더욱 높일 수 있다.

<br>

## TDD의 리듬

각 TDD의 사이클은 테스트를 가설로 한 시간이 제한이 있는 실험 취급해야 한다. 그 안에 테스트를 통과하지 못했다면 작업 중인 코드는 폐기하고 다시 좀 더 작은 단계로 도전하면 된다.

